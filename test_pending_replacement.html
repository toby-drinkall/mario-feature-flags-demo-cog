<!DOCTYPE html>
<html>
<head>
    <title>Test Pending Replacement</title>
</head>
<body>
    <h1>Testing Pending Replacement Feature</h1>
    <p>This script will add a test pending replacement item to localStorage.</p>

    <button onclick="addTestItem()">Add Test Pending Replacement</button>
    <button onclick="clearTestItem()">Clear Test Items</button>
    <button onclick="checkStorage()">Check Storage</button>

    <pre id="output"></pre>

    <script>
        function addTestItem() {
            const testItem = {
                name: "PHYSICS_JUMPMOD",
                newName: "PHYSICS_JUMPMOD_V2",
                displayName: "Jump Height Modifier",
                instruction: "Make Mario jump twice as high",
                multiplier: 2,
                prNumber: 123,
                prUrl: "https://github.com/FullScreenShenanigans/FullScreenMario/pull/123",
                createdAt: Date.now(),
                filesAffected: [
                    { file: "Source/settings/objects.js", lines: [230, 232] },
                    { file: "Source/settings/math.js", lineStart: 30, lineEnd: 33 }
                ]
            };

            const existing = JSON.parse(localStorage.getItem('pending_replacement') || '[]');
            existing.push(testItem);
            localStorage.setItem('pending_replacement', JSON.stringify(existing));

            document.getElementById('output').textContent = 'Added test item:\n' + JSON.stringify(testItem, null, 2);
        }

        function clearTestItem() {
            localStorage.setItem('pending_replacement', '[]');
            document.getElementById('output').textContent = 'Cleared all pending replacement items';
        }

        function checkStorage() {
            const items = localStorage.getItem('pending_replacement');
            document.getElementById('output').textContent = 'Current storage:\n' + (items || 'empty');
        }
    </script>
</body>
</html>
